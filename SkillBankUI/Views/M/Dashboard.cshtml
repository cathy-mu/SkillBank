@model Dictionary<Enum, int>
@using SkillBank.Site.Common
@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_MobileLayout.cshtml";
}

@Html.Partial("_MobileMenuPartial")

<div class="setting-page content">
    <a class="icon icomoon icon-redo pull-right nav-inner nav-right"></a>
    <div class="info clearfix">
        <a href="@Url.Action("personal", "m")">
            <img src="@ContentHelper.GetAvatarPath(ViewBag.Memberinfo.Avatar, "mb")" alt="" class="avatar pull-left"></a>

        <h3>@ViewBag.Memberinfo.Name</h3>
        <p><small>@ViewBag.CityName</small></p>
        <a href="@Url.Action("profileedit", "m")" class="btn btn-olive border-none">编辑个人信息</a>
    </div>
    <div class="statistic">
        <table class="u-full-width">
            <tbody>
                <tr>
                    <td><a href="@Url.Action("favorites", "m")">
                        <h6>@Model[Enums.NumberDictionaryKey.Like]</h6>
                        喜欢</a></td>
                    <td><a href="@Url.Action("mycourses", "m")">
                        <h6>@Model[Enums.NumberDictionaryKey.Class]</h6>
                        课程</a></td>
                    <td><a href="@Url.Action("following", "m")">
                        <h6>@Model[Enums.NumberDictionaryKey.Follow]</h6>
                        关注</a></td>
                    <td><a href="@Url.Action("fans", "m")">
                        <h6>@Model[Enums.NumberDictionaryKey.Fans]</h6>
                        粉丝</a></td>
                </tr>
            </tbody>
        </table>
    </div>

    <table class="card coins">
        <tr>
            <td>
                <h1>@ViewBag.Memberinfo.Coins</h1>
                <span>可使用课币</span>
            </td>
            <td>
                <h6><span class="icon icomoon icon-locked"></span>@ViewBag.Memberinfo.CoinsLocked 枚课币被锁定</h6>
                <p>当你的订课申请被老师确认后，相应的课币就会被锁定住。此数字为已确定订课但还未支付的课币数量。</p>
            </td>
        </tr>
    </table>

    <h5>认证信息 </h5>

    <div class="card">
        <ul class="table-view">
            <li class="table-view-cell">社交认证 <span class="tail">新浪微博</span></li>
            <li class="table-view-cell">手机认证 <span class="tail">@System.Text.RegularExpressions.Regex.Replace(ViewBag.MemberInfo.Phone, @"(?im)(\d{3})(\d{6})(\d{2})", "$1******$3")</span></li>
        </ul>
    </div>

    <div class="card">
        <ul class="table-view">
            <li class="table-view-cell media">
                <a class="navigate-right" href="@Url.Action("chat", "m", new { id =  Constants.BizConfig.AdminMemberId })">
                    <div class="media-body">
                        给技能菌反馈
                    </div>
                </a>
            </li>
        </ul>
    </div>

    <div class="logout">
        <a href="#">退出登录</a>
    </div>

</div>
